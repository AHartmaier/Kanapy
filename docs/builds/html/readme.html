

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Overview &mdash; kanapy 2.1.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Applications" href="applications.html" />
    <link rel="prev" title="Welcome to kanapy’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> kanapy
          

          
          </a>

          
            
            
              <div class="version">
                2.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#motivation">Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-tests">Running tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation-build">Documentation build</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#core-dependencies">Core dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#optional-dependencies">Optional dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#citation">Citation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#related-works-and-applications">Related works and applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="#about">About</a></li>
<li class="toctree-l2"><a class="reference internal" href="#disclaimer">Disclaimer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="method.html">Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="kanapy.html">Code documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">kanapy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/readme.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://doi.org/10.5281/zenodo.3662366"><img alt="https://zenodo.org/badge/DOI/10.5281/zenodo.3662366.svg" src="https://zenodo.org/badge/DOI/10.5281/zenodo.3662366.svg" /></a>
<a class="reference external image-reference" href="https://doi.org/10.21105/joss.01732"><img alt="https://joss.theoj.org/papers/10.21105/joss.01732/status.svg" src="https://joss.theoj.org/papers/10.21105/joss.01732/status.svg" /></a>
<img alt="https://img.shields.io/badge/Platform-Linux%2C%20MacOS%2C%20Windows-critical" src="https://img.shields.io/badge/Platform-Linux%2C%20MacOS%2C%20Windows-critical" />
<a class="reference external image-reference" href="https://www.gnu.org/licenses/agpl-3.0.html"><img alt="https://img.shields.io/badge/License-GNU%20AGPLv3-blue" src="https://img.shields.io/badge/License-GNU%20AGPLv3-blue" /></a>
<p>Kanapy is a python package for generating complex three-dimensional (3D)
synthetic polycrystalline microstructures that are built based on
statistical information about grain geometry, given as grain size
distribution and aspect ratio of grains, and crystallographic texture,
given in form of orientation distribution functions (ODF) and
misorientation distribution functions (MDF). Kanapy offers tools to
analyze the geometry and texture of microstructures given by EBSD maps
to generate 3D synthetic microstructures mimicking real ones in a
statistical sense. The general implementation is done in
<a class="reference external" href="http://www.python.org">Python</a> with the performance critical part
for the geometry module implemented in C++. The Python bindings for the
code written in C++ are generated using the lightweight header-only
library <a class="reference external" href="https://pybind11.readthedocs.io/en/stable/">pybind11</a>. The
C++ part of the implementation utilizes the
<a class="reference external" href="http://eigen.tuxfamily.org/index.php?title=Main_Page">Eigen</a> library
for efficient linear algebra calculations. The texture module of Kanapy
is implemented as
<a class="reference external" href="https://www.mathworks.com/products/matlab.html">MATLAB</a> functions
using several algorithms implemented in
<a class="reference external" href="https://mtex-toolbox.github.io/">MTEX</a> for texture analysis.</p>
<div class="section" id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>An accurate representation of the material microstructure is fundamental in understanding the relationship between microstructure and its corresponding mechanical behavior. In this regard, Kanapy is developed to be a robust and an efficient tool to generate synthetic microstructures within the micro mechanical framework for Finite Element Method (FEM) simulations. It is designed to model simple and complex grain morphologies and to systematically incorporate texture data directly from experiments concurrently maintaining the numerical efficiency of the micromechanical model. Kanapy is developed to overcome the limitations of spatial tessellation methods and to provide an alternative to the existing Random Sequential Addition technique of microstructure geometry generation.</p>
<div class="figure align-center" id="id6">
<img alt="_images/kanapy_graphical_abstract.png" src="_images/kanapy_graphical_abstract.png" />
<p class="caption"><span class="caption-text"><strong>Figure</strong>: Kanapy workflow.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Kanapy is used through a Command Line Interface (CLI).</p></li>
<li><p>Possibility to analyze experimental microstructures based on
<a class="reference external" href="https://mtex-toolbox.github.io/">MTEX</a> functions.</p></li>
<li><p>Generation of microstructure geometry based on statistical features
as grain size distribution and grain aspect ratio distribution.</p></li>
<li><p>Crystallographic texture reconstruction using orientations from
experimental data in form of Orientation Distribution Function (ODF).</p></li>
<li><p>Optimal orientation assignment based on measured Misorientation
Distribution Function (MDF) that maintains correct statistical
description of high-angle or low-angle grain boundary
characteristics.</p></li>
<li><p>Independent execution of individual modules through easy data storage
and handling.</p></li>
<li><p>In-built hexahedral mesh generator for complex polycrystalline
microstructures.</p></li>
<li><p>Efficient generation of space filling structures by particle dynamics
method.</p></li>
<li><p>Collision handling of particles through a two-layer collision
detection method employing the Octree spatial data structure and the
bounding sphere hierarchy.</p></li>
<li><p>Flexibility in the choice of the particle packing time step to be
sent for voxelization (meshing).</p></li>
<li><p>Option to generate spherical particle position- and radius files that
can be read by the Voronoi tessellation software
<a class="reference external" href="http://neper.sourceforge.net/">Neper</a>.</p></li>
<li><p>Option to generate input files for the commercial finite-element
software
<a class="reference external" href="https://www.3ds.com/products-services/simulia/products/abaqus/">Abaqus</a>.</p></li>
<li><p>High-performance for the critical part of the geometry code using
Python-C++ bindings.</p></li>
</ul>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>The preferred method to install kanapy is through
Anaconda or Miniconda Python distributions. If you do not have any, we suggest installing <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">miniconda</a>.</p>
<p>Once done, create a virtual environment for Kanapy installation and clone the repository to
a desired location and install.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git clone https://github.com/ICAMS/Kanapy.git &lt;location to clone&gt;/kanapy-master
<span class="gp">$ </span><span class="nb">cd</span> kanapy-master/
<span class="gp">$ </span>conda env create -f environment.yml
<span class="gp">$ </span>conda activate knpy
<span class="gp gp-VirtualEnv">(knpy)</span> <span class="gp">$ </span>pip install -e .
</pre></div>
</div>
<p>Kanapy is now installed along with all its dependencies. If you intend to use Kanapy’s
texture module, a <a class="reference external" href="https://www.mathworks.com/products/matlab.html">MATLAB</a> installation
is required because the texture module is based on <a class="reference external" href="https://mtex-toolbox.github.io/">MTEX</a> functions. If MATLAB is
available on your system, the texture module is initialized by the
command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(knpy)</span> <span class="gp">$ </span>kanapy setupTexture
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">knpy</span></code> can be replaced with any name for your environment.</p></li>
<li><p>For older versions of anaconda/miniconda use: <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">activate</span> <span class="pre">knpy</span></code></p></li>
</ol>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To learn more about managing environments see Anaconda <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">documentation</a>.</p>
</div>
</div>
<div class="section" id="running-tests">
<h2>Running tests<a class="headerlink" href="#running-tests" title="Permalink to this headline">¶</a></h2>
<p>Kanapy uses pytest to perform all its unit testing.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(knpy)</span> <span class="gp">$ </span>kanapy runTests
</pre></div>
</div>
</div>
<div class="section" id="documentation-build">
<h2>Documentation build<a class="headerlink" href="#documentation-build" title="Permalink to this headline">¶</a></h2>
<p>The complete documentation for kanapy is available online on GitHub
Pages: <a class="reference external" href="https://icams.github.io/Kanapy/">https://icams.github.io/Kanapy/</a></p>
<p>Documentation for kanapy is generated using Sphinx. You can create or
update your local documentation with the command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(knpy)</span> <span class="gp">$ </span>kanapy genDocs
</pre></div>
</div>
<p>The HTML documentation is then found at <em>kanapy/docs/builds/html/index.html</em></p>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>For Linux/Mac OS, Kanapy requires a working C/C++ compiler on your machine. The gcc
toolchain will work well. For Windows, Kanapy is installed as a pre-built distribution
(.whl file). In either case, the lightweight header-only library pybind11
is used to create Python bindings for the code written in C++.
The C++ function will be complied by linking the Eigen library
(present in the directory <em>kanapy/libs/</em>). CMake builds this extension.</p>
<p>Kanapy’s texture module requires <a class="reference external" href="https://www.mathworks.com/products/matlab.html">MATLAB</a> to be
installed on your machine. Make sure to use MATLAB v2015a and above. The
module uses a local version of <a class="reference external" href="https://mtex-toolbox.github.io/">MTEX</a> contained in <em>kanapy/libs</em>
and does not interfere with other installations of MTEX.</p>
<div class="section" id="core-dependencies">
<h3>Core dependencies<a class="headerlink" href="#core-dependencies" title="Permalink to this headline">¶</a></h3>
<p>Below are the listed dependencies for running kanapy:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="http://numpy.scipy.org">NumPy</a> for array manipulation.</p></li>
<li><p><a class="reference external" href="https://www.scipy.org/">Scipy</a> for functionalities like Convexhull.</p></li>
<li><p><a class="reference external" href="https://pybind11.readthedocs.io/en/stable/">pybind11</a> for creating python bindings for C++ code.</p></li>
<li><p><a class="reference external" href="http://eigen.tuxfamily.org/index.php?title=Main_Page">Eigen</a> for C++ linear algebra operations.</p></li>
<li><p><a class="reference external" href="https://www.pytest.org">pytest</a> for running kanapy unit tests.</p></li>
<li><p><a class="reference external" href="http://www.sphinx-doc.org/en/master/">sphinx</a> for generating documentation.</p></li>
<li><p><a class="reference external" href="https://www.mathworks.com/products/matlab.html">MATLAB</a> for texture modules.</p></li>
<li><p><a class="reference external" href="https://mtex-toolbox.github.io/">MTEX</a> for texture modules.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="optional-dependencies">
<h3>Optional dependencies<a class="headerlink" href="#optional-dependencies" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://matplotlib.org/">Matplotlib</a> for plotting and visualizing.</p></li>
<li><p><a class="reference external" href="https://ovito.org/">OVITO</a> for visualizing simulation data.</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="citation">
<h2>Citation<a class="headerlink" href="#citation" title="Permalink to this headline">¶</a></h2>
<p>The preferred way to cite Kanapy is:</p>
<div class="highlight-bibtex notranslate"><div class="highlight"><pre><span></span><span class="nc">@article</span><span class="p">{</span><span class="nl">Biswas2020</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{10.5281/zenodo.3662366}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{https://doi.org/10.5281/zenodo.3662366}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Abhishek Biswas and Mahesh R.G. Prasad and Napat Vajragupta and Alexander Hartmaier}</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Kanapy: Synthetic polycrystalline microstructure generator with geometry and texture}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{Zenodo}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2020}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="related-works-and-applications">
<h2>Related works and applications<a class="headerlink" href="#related-works-and-applications" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Prasad et al., (2019). Kanapy: A Python package for generating complex synthetic polycrystalline microstructures. Journal of Open Source Software, 4(43), 1732. <a class="reference external" href="https://doi.org/10.21105/joss.01732">https://doi.org/10.21105/joss.01732</a></p></li>
<li><p>Biswas, Abhishek, R.G. Prasad, Mahesh, Vajragupta, Napat, &amp; Hartmaier, Alexander. (2020, February 11). Kanapy: Synthetic polycrystalline microstructure generator with geometry and texture (Version v2.0.0). Zenodo. <a class="reference external" href="http://doi.org/10.5281/zenodo.3662366">http://doi.org/10.5281/zenodo.3662366</a></p></li>
<li><p>Biswas, A., Prasad, M.R.G., Vajragupta, N., ul Hassan, H., Brenne, F., Niendorf, T. and Hartmaier, A. (2019), Influence of Microstructural Features on the Strain Hardening Behavior of Additively Manufactured Metallic Components. Adv. Eng. Mater., 21: 1900275. <a class="reference external" href="http://doi.org/10.1002/adem.201900275">http://doi.org/10.1002/adem.201900275</a></p></li>
<li><p>Biswas, A., Vajragupta, N., Hielscher, R. &amp; Hartmaier, A. (2020). J. Appl. Cryst. 53, 178-187. <a class="reference external" href="https://doi.org/10.1107/S1600576719017138">https://doi.org/10.1107/S1600576719017138</a></p></li>
<li><p>Biswas, A., Prasad, M.R.G., Vajragupta, N., Kostka, A., Niendorf, T. and Hartmaier, A. (2020), Effect of Grain Statistics on Micromechanical Modeling: The Example of Additively Manufactured Materials Examined by Electron Backscatter Diffraction. Adv. Eng. Mater., 22: 1901416. <a class="reference external" href="http://doi.org/10.1002/adem.201901416">http://doi.org/10.1002/adem.201901416</a></p></li>
<li><p>R.G. Prasad, M., Biswas, A., Geenen, K., Amin, W., Gao, S., Lian, J., Röttger, A., Vajragupta, N. and Hartmaier, A. (2020), Influence of Pore Characteristics on Anisotropic Mechanical Behavior of Laser Powder Bed Fusion–Manufactured Metal by Micromechanical Modeling. Adv. Eng. Mater., <a class="reference external" href="https://doi.org/10.1002/adem.202000641">https://doi.org/10.1002/adem.202000641</a></p></li>
</ul>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>Kanapy is made available under the GNU AGPLv3 <a class="reference external" href="https://www.gnu.org/licenses/agpl-3.0.html">license</a>.</p>
</div>
<div class="section" id="about">
<h2>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h2>
<p>The name kanapy is derived from the sanskrit word <a class="reference external" href="https://en.wiktionary.org/wiki/%E0%A4%95%E0%A4%A3">káṇa</a> meaning particle. Kanapy is primarily developed at the <a class="reference external" href="http://www.icams.de/content/">Interdisciplinary Center for Advanced Materials Simulation (ICAMS), Ruhr-University Bochum - Germany</a>. Our goal is to build a complete synthetic microstructure generation tool for research and industry use.</p>
</div>
<div class="section" id="disclaimer">
<h2>Disclaimer<a class="headerlink" href="#disclaimer" title="Permalink to this headline">¶</a></h2>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS
IS” AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="applications.html" class="btn btn-neutral float-right" title="Applications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to kanapy’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright This work is published under a CC BY-SA 4.0 license.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>